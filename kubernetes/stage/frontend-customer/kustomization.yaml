# ======================================================================
# Kustomization: frontend-customer (stage)
#
# Purpose:
# - Acts as the GitOps control file for the Customer Frontend
# - Jenkins updates the Docker image tag here
# - ArgoCD watches this file and applies changes automatically
#
# Why namespace is defined here?
# - Ensures all resources are deployed into the correct namespace
# - Prevents accidental use of the default namespace
#
# IMPORTANT:
# - Do NOT hardcode image tags in deployment.yaml
# ======================================================================

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# All frontend-customer resources will be deployed into this namespace
namespace: framely-stage

resources:
- deployment.yaml
- service.yaml
images:
- name: mrsharma151/frontend-customer
  newName: mrsharma151/frontend-customer
  newTag: 0.1.0-52b06c8
